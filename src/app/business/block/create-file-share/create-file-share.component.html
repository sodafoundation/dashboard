<div class="content-header">
    <h1>{{i18n.keyID['sds_creatFileShare']}}</h1>
</div>

<form [formGroup] ="fileShareForm" [grid]="{label: 'ui-g-2', content:'ui-g-20'}" (ngSubmit)="onSubmit(fileShareForm.value)" [errorMessage]="errorMessage">
    <form-item [required]="true" label="{{label.zone}}">
        <p-dropdown [options]="availabilityZones" formControlName="zone" [style]="{'min-width':96}" placeholder="Please choose"></p-dropdown>
    </form-item>
    <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid volume-item">
        <div class="ui-grid-row">
            <div class="ui-grid-col-2">
                <span style="color:#cd0a0a;padding-right: 0.03rem;">*</span>{{label.name}}:
            </div>
            <div class="ui-grid-col-2">
                <span style="color:#cd0a0a;padding-right: 0.03rem;">*</span>{{label.profile}}:
            </div>
            <div class="ui-grid-col-2">
                <span style="color:#cd0a0a;padding-right: 0.03rem;">*</span>{{label.capacity}}:
            </div>
        </div>

        <div class="ui-grid-row volume-item">
            <div class="ui-grid-col-2">
                <input pInputText type="text" placeholder="{{i18n.keyID['sds_block_volume_name']}}" formControlName="name" />
                <div class="ui-message-container" *ngIf="fileShareForm.controls['name'] && !fileShareForm.controls['name'].valid&&fileShareForm.controls['name'].dirty">
                    <div class="ui-message ui-message-error ui-corner-all">
                        <i class="fa fa-exclamation-circle"></i>
                        <span class="ui-message-error-text">
                            {{getErrorMessage(fileShareForm.controls['name'],"name")}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="ui-grid-col-2">
                <p-dropdown [options]="profileOptions" formControlName="profileId" placeholder="{{i18n.keyID['sds_block_volume_selectpro']}}"></p-dropdown>
                <div class="ui-message-container" *ngIf="fileShareForm.controls['profileId'] && !fileShareForm.controls['profileId'].valid&&fileShareForm.controls['profileId'].touched">
                    <div class="ui-message ui-message-error ui-corner-all">
                        <i class="fa fa-exclamation-circle"></i>
                        <span class="ui-message-error-text">
                           {{getErrorMessage(fileShareForm.controls['profileId'],"profile")}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="ui-grid-col-2">
                <div class="item-flex">
                    <p-spinner formControlName="size" [min]="1" [max]="1024"></p-spinner>
                    <p-dropdown [options]="capacityUnit" formControlName="capacity"></p-dropdown>
                </div>
                <div class="ui-message-container" *ngIf="fileShareForm.controls['size'] && !fileShareForm.controls['size'].valid&&fileShareForm.controls['size'].dirty">
                    <div class="ui-message ui-message-error ui-corner-all">
                        <i class="fa fa-exclamation-circle"></i>
                        <span class="ui-message-error-text">
                            {{getErrorMessage(fileShareForm.controls['size'],"Capacity")}}
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="ui-grid-row">
                <div class="ui-grid-col-2">
                    <span>{{label.descript}}:</span>
                </div>
            </div>
            <div class="ui-grid-row volume-item ui-grid-col-2">
                <textarea [rows]="5" [cols]="30" pInputTextarea formControlName="description"></textarea>
            </div>
        </div>
    </div>

    <div class="bottom-button-margin">
        <button pButton type="submit" class="ui-button-secondary" label="{{i18n.keyID['ok']}}"></button>
        <button pButton type="button" label="{{i18n.keyID['cancel']}}" [routerLink]="['/block','fromFileShare']"></button>
    </div>
</form>